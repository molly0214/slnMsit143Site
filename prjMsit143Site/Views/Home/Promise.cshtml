
@{
    ViewData["Title"] = "Promise";
}

<h1>Promise</h1>

@section Scripts{
    <script>

    //const promise = new Promise((resolve, reject) => {
    //    const num = Math.random() > 0.5 ? 1 : 0;
    //    console.log(num)
    //    if (num) {
    //        resolve("成功")
    //    } else {
    //        reject("失敗")
    //    }
    //})

    //promise
    //    .then(result => console.log(result))
    //    .catch(err => console.log(err))
    //    .finally(() => console.log("end"))

    function printSomething(data) {
        const promise = new Promise((resolve, reject) => {
            setTimeout(() => { resolve(data) },1000)
        })
        return promise;
    }
    printSomething("A").then(data => {
        console.log(data)
        return printSomething("B")
    })
        .then(data => {
            console.log(data)
            return printSomething("C")
        })
        .then(data => {
            console.log(data)
        })

    </script>
}